{"version":3,"sources":["webpack:///webpack/bootstrap c32206c81f42e44201d9","webpack:///external \"react\"","webpack:///./src/server/index.js","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///external \"http-proxy-middleware\"","webpack:///./src/server/app.js","webpack:///external \"react-router\"","webpack:///external \"react-context-component\"","webpack:///./src/server/render.js","webpack:///external \"react-dom/server\"","webpack:///./src/shared/App.js","webpack:///external \"prop-types\"","webpack:///external \"react-router-dom\"","webpack:///./src/shared/logo.svg"],"names":["host","serverPort","process","env","REACT_APP_SERVER_PORT","app","express","use","static","path","join","cwd","proxy","target","REACT_APP_CLIENT_PORT","ws","logLevel","listen","console","log","ErrorPage","reactApp","req","res","context","HTML","status","setStatus","newStatus","render","url","error","redirect","send","DEV","assetManifest","JSON","parse","bundleUrl","css","component","renderToString","Header","PageNotFound","props","contextTypes","PropTypes","func","isRequired","TestRouterPage","match","params","id","Home","App"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c32206c81f42e44201d9","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","import express from 'express'\nimport path from 'path'\nimport proxy from 'http-proxy-middleware'\n\nimport reactApp from './app'\n\nconst host = process.env.REACT_APP_HOST || 'localhost'\nconst serverPort = process.env.NODE_ENV === 'development'\n  ? process.env.REACT_APP_SERVER_PORT\n  : process.env.REACT_APP_PORT || 80\n\nconst app = express()\n\nif (process.env.NODE_ENV === 'production') {\n  // In production we want to serve our JavaScripts from a file on the file\n  // system.\n  app.use('/static', express.static(path.join(process.cwd(), 'build/client/static')))\n} else {\n  // Otherwise we want to proxy the webpack development server.\n  app.use(['/static', '/sockjs-node'], proxy({\n    target: `http://localhost:${process.env.REACT_APP_CLIENT_PORT}`,\n    ws: true,\n    logLevel: 'error'\n  }))\n}\n\napp.use('/', express.static('build/client'))\n\napp.use(reactApp)\n\napp.listen(serverPort)\nconsole.log(`Listening at http://${host}:${serverPort}`)\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/index.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"http-proxy-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http-proxy-middleware\"\n// module id = 4\n// module chunks = 0","import React from 'react'\nimport { StaticRouter as Router } from 'react-router'\nimport Context from 'react-context-component'\n\nimport render from './render'\nimport App from '../shared/App'\n\nconst ErrorPage = () => <h1>Oops there was an error</h1>\n\nconst reactApp = (req, res) => {\n  const context = {}\n  let HTML\n  let status = 200\n\n  const setStatus = (newStatus) => {\n    status = newStatus\n  }\n\n  try {\n    HTML = render(\n      <Context setStatus={setStatus}>\n        <Router context={{}} location={req.url}>\n          <App />\n        </Router>\n      </Context>\n    )\n  } catch (error) {\n    HTML = render(ErrorPage)\n    status = 500\n  }\n\n  if (context.url) {\n    res.redirect(301, context.url)\n  } else {\n    res.status(status).send(HTML)\n  }\n}\n\nexport default reactApp\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/app.js","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"react-context-component\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-context-component\"\n// module id = 7\n// module chunks = 0","import { renderToString } from 'react-dom/server'\n\nconst DEV = process.env.NODE_ENV === 'development'\nconst assetManifest = JSON.parse(process.env.REACT_APP_ASSET_MANIFEST || '{}')\nconst bundleUrl = DEV\n  ? '/static/js/bundle.js'\n  : `/${assetManifest['main.js']}`\nconst css = DEV\n  ? '' // in DEV the css is hot loaded\n  : `<link href=\"/${assetManifest['main.css']}\" media=\"all\" rel=\"stylesheet\" />`\n\nexport default (component) => `\n  <!DOCTYPE html>\n    <html lang=\"en\">\n      <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n        <meta name=\"theme-color\" content=\"#000000\">\n        ${css}\n        <link rel=\"manifest\" href=\"/public/manifest.json\">\n        <link rel=\"shortcut icon\" href=\"/public/favicon.ico\">\n        <title>React App</title>\n      </head>\n      <body>\n        <div id=\"root\">${renderToString(component)}</div>\n        <script type=\"application/javascript\" src=\"${bundleUrl}\"></script>\n      </body>\n  </html>\n`\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/render.js","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 9\n// module chunks = 0","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  Route,\n  Switch,\n  Link\n} from 'react-router-dom'\n\nimport logo from './logo.svg'\n\nconst Header = () => (\n  <div className='App-header'>\n    <img src={logo} className='App-logo' alt='logo' />\n    <h2>Welcome to Universal React</h2>\n  </div>\n)\n\nexport const PageNotFound = (props, context = {}) => {\n  if (context.setStatus) {\n    context.setStatus(404)\n  }\n\n  return (\n    <div>\n      <h1>\n        Page not found\n      </h1>\n      <Link to='/'>\n        Go home\n      </Link>\n    </div>\n  )\n}\nPageNotFound.contextTypes = {\n  setStatus: PropTypes.func.isRequired\n}\n\nconst TestRouterPage = ({ match }) => (\n  <div className='App-intro'>\n    <p>\n      Test page {match.params.id}\n    </p>\n    <p>\n      <Link to={`/`}>\n      Home\n    </Link>\n    </p>\n    <p>\n      <Link to={`/aljlskaklksdkfaj falsflasd`}>\n        Go to non-existent page\n      </Link>\n    </p>\n  </div>\n)\n\nconst Home = () => (\n  <div className='App-intro'>\n    <p>To get started, edit <code>src/shared/App.js</code> and save to reload.</p>\n    <Link to={`/test/123`}>\n      Test the router\n    </Link>\n  </div>\n)\n\nconst App = () => (\n  <div className='App'>\n    <Route path='/' component={({ match }) => (\n      <div>\n        <Header />\n        <Switch>\n          <Route exact path='/' component={Home} />\n          <Route exact path='/test/:id' component={TestRouterPage} />\n          <Route component={PageNotFound} />\n        </Switch>\n      </div>\n    )} />\n  </div>\n)\n\nexport default App\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/App.js","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 12\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shared/logo.svg\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}